<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Draw Straight Line with Mouse Drag</title>
<style>
    canvas {
        border: 1px solid #000;
    }
</style>
</head>
<body>
<canvas id="myCanvas" width="600" height="400"></canvas>

<script>
    // Get the canvas element and its context
    let answerCheck = false;
    var canvas = document.getElementById('myCanvas');
    var context = canvas.getContext('2d');

    // Variables to store mouse position and drawing status
    var isDrawing = false;
    var startX, startY;
    var lines = []; // Array to store lines

    // Event listener for mouse down
    // canvas.forEach(function(e){
    //     e.getContext('2d').addEventListener('mousedoun',)
    // })
    canvas.addEventListener('mousedown', function(e) {
        isDrawing = true;
        startX = e.offsetX;
        startY = e.offsetY;
    });

    // Event listener for mouse move
    canvas.addEventListener('mousemove', function(e) {
        if (isDrawing) {
            redrawCanvas();
            drawLine(startX, startY, e.offsetX, e.offsetY);
        }
    });

    // Event listener for mouse up
    canvas.addEventListener('mouseup', function(e) {
        if (isDrawing && answerCheck) {
            lines.push({ startX: startX, startY: startY, endX: e.offsetX, endY: e.offsetY });
        }else{
            redrawCanvas();
        }
        isDrawing = false;

    });

    // Function to redraw canvas
    function redrawCanvas() {
        context.clearRect(0, 0, canvas.width, canvas.height);
        drawLines();
    }

    // Function to draw all lines
    function drawLines() {
        lines.forEach(function(line) {
            drawLine(line.startX, line.startY, line.endX, line.endY);
        });
    }

    // Function to draw a line
    function drawLine(x1, y1, x2, y2) {
        context.beginPath();
        context.moveTo(x1, y1);
        context.lineTo(x2, y2);
        context.strokeStyle = '#000'; // Set line color
        context.lineWidth = 2; // Set line width
        context.stroke();
        context.closePath();
    }
    

</script>
</body>
</html>
